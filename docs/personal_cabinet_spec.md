# Личный кабинет пользователя — спецификация актуального состояния и развития

Документ описывает текущее состояние личного кабинета приложения **FinTrackr** после рефакторинга, а также приоритеты развития. Он служит справочником для команды разработки и заинтересованных сторон.

## 1. Цели модуля

Личный кабинет предоставляет пользователю консолидированный взгляд на личные финансы, позволяя отслеживать балансы, операции и бюджеты. MVP ориентирован на демонстрацию ключевых сценариев просмотра данных без возможности их изменения.

## 2. Реализованные возможности MVP

| Область | Возможности |
|---------|-------------|
| Дашборд | Отображение суммарного баланса, динамики расходов по категориям и ключевых показателей периода. |
| Счета   | Просмотр предзагруженных счетов из `data.json` с балансами и типами счетов. |
| Транзакции | Таблица операций с базовой фильтрацией по периоду и категоризации доходов/расходов. |
| Бюджеты | Карточки с лимитами по категориям и индикацией исполнения. |
| UI      | Адаптивная вёрстка, тёмная тема, единый визуальный стиль. |
| API     | Публичные `GET` эндпоинты для получения счетов, категорий, транзакций и бюджетов. |

## 3. Ограничения MVP

- Нет аутентификации, авторизации и многопользовательского режима.
- Отсутствуют формы ввода и сохранения пользовательских данных, API работает только на чтение.
- Не поддерживаются мультивалютность, импорты выписок, экспорт отчётов и интеграции с внешними сервисами.
- Аналитика ограничена агрегированными графиками без прогнозов и AI‑подсказок.
- Нет централизованного управления ошибками, валидации входных данных и уведомлений.

## 4. Целевая архитектура модуля

- **Frontend**
  - Слои: представление (HTML), логика компонентов (модули JS), слой данных (fetch API с обработкой ответов).
  - Ключевые компоненты: DashboardView, AccountsView, TransactionsView, BudgetsView, ThemeManager.
- **Backend**
  - Слои: HTTP‑сервер, маршрутизация REST, слой доступа к данным (чтение из JSON), адаптер интеграции (зарезервирован под БД/API).
  - Модули: `server.js` (инициализация сервера, маршрутизация), `data.json` (источник данных), planned `repositories/` (будущая абстракция над хранилищем).
- **Инфраструктура**
  - Node.js >= 14, статическая выдача frontend из backend, запуск через `npm start`.

Визуальная схема архитектуры расположена в `docs/architecture_overview.md`.

## 5. Roadmap и backlog (6‑месячный горизонт)

| Период | Цель | Основные задачи | Зависимости |
|--------|------|-----------------|-------------|
| Месяц 1 | Усиление базового функционала | Добавить CRUD для счетов/транзакций, валидацию на сервере, тестовые сценарии UI. | Переработка слоя данных (`repositories/`), выбор формата хранения (JSON -> SQLite/PostgreSQL). |
| Месяц 2 | Пользователи и безопасность | Реализовать регистрацию/логин, JWT‑аутентификацию, управление сессиями. | Завершение слоя данных, настройка миграций БД. |
| Месяц 3 | Расширенные отчёты | Экспорт в CSV/PDF, дополнительные графики, уведомления о превышении лимитов. | Наличие аутентификации, централизованное логирование. |
| Месяц 4 | AI‑аналитика (этап 1) | Внедрение AI‑прогнозов по расходам/доходам, генерация текстовых инсайтов. | Исторические данные в БД, сервис фичеинжиниринга, настройка cron-задач. |
| Месяц 5 | Интеграции с внешними сервисами | Импорт банковских выписок (Open Banking), курсы валют, синхронизация с Google Sheets. | Авторизация пользователей, модуль очередей/фоновая обработка, партнёрские соглашения. |
| Месяц 6 | AI‑поддержка бюджета | Smart‑Budget, Goal‑Advisor, рекомендация оптимальных лимитов. | Завершённая AI‑аналитика этапа 1, обучение моделей на накопленных данных. |

> **Примечание:** AI‑функции и интеграции выполняются после завершения базовой CRUD‑функциональности и внедрения БД, так как зависят от объёма исторических данных и управляемой аутентификации.

## 6. Критерии готовности к следующему релизу

1. Завершён рефакторинг слоя данных и настроена постоянная БД.
2. Документация архитектуры и API обновлена согласно регламенту.
3. Покрытие ключевых API модульными тестами ≥ 60%.
4. Опубликован отчёт о прогрессе по roadmap и согласованы сроки следующего этапа.

## 7. Процесс сопровождения

- Каждое изменение backend или frontend сопровождается обновлением соответствующих разделов README и спецификации.
- Перед выпуском релиза проводится ревью документации и синхронизация с roadmap.
- Для новых интеграций создаётся отдельный раздел в backlog с фиксацией ответственных и контрольных дат.
