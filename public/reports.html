<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FinTrackr – Отчёты</title>
  <link rel="stylesheet" href="css/tokens.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/design-system.css" />
  <link rel="stylesheet" href="css/icons.css" />
  <link rel="stylesheet" href="css/transitions.css" />
  <link rel="stylesheet" href="css/sidebar-footer.css" />
  
  <!-- ApexCharts CDN -->
  <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.45.1/dist/apexcharts.min.js"></script>
  
  <script type="module">
    import { mountSidebar } from '/js/components/Sidebar.js';
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => mountSidebar('sidebar-mount'));
    } else {
      mountSidebar('sidebar-mount');
    }
  </script>
  
  <!-- Reports Module -->
  <script type="module">
    import '/js/reports.js';
  </script>
</head>
<body class="workspace-page" data-page-title="Отчёты" data-page-subtitle="Аналитика доходов и расходов">
  <a href="#main-content" class="visually-hidden" tabindex="1">Перейти к основному содержимому</a>
  
  <header role="banner">
    <div class="header-inner">
      <div class="header-left">
        <button class="burger" aria-label="Открыть меню навигации" aria-expanded="false" aria-controls="sidebar">
          <span></span><span></span><span></span>
        </button>
        <div class="logo-text">FinTrackr</div>
      </div>
      <div class="header-center">
        <div class="header-search">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM18 18l-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <input type="search" placeholder="Поиск операций, счетов..." aria-label="Поиск" />
        </div>
        <select class="currency-selector" aria-label="Выбор валюты">
          <option value="USD">USD</option><option value="EUR">EUR</option><option value="RUB">RUB</option><option value="PLN">PLN</option>
        </select>
      </div>
      <div class="header-right">
        <button class="btn-primary" onclick="location.href='transactions.html'">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M10 5v10M5 10h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          Операция
        </button>
        <div class="header-quick">
          <button class="icon-btn" aria-label="Уведомления"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg></button>
          <button class="icon-btn" aria-label="Профиль" onclick="location.href='settings.html'"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg></button>
        </div>
      </div>
    </div>
  </header>

  <div id="sidebar-mount"></div>

    <main id="main-content" role="main">
      <section class="card">
        <h2>Отчёты</h2>
        <p>
          Составляйте отчёты по своим доходам и расходам. Выберите период и
          получите визуализацию трат по категориям, а также краткий текстовый
          анализ.
        </p>
        <div class="report-controls">
          <label>
            Тип отчёта
            <select id="reportPeriod">
              <option value="month">Месяц</option>
              <option value="year">Год</option>
            </select>
          </label>
          <label id="reportMonthLabel">
            Месяц
            <input type="month" id="reportMonth" />
          </label>
          <label id="reportYearLabel" style="display: none">
            Год
            <input
              type="number"
              id="reportYear"
              min="2000"
              max="2100"
              step="1"
            />
          </label>
          <button class="btn-primary" id="generateReport">Сгенерировать</button>
        </div>
        <section class="reports-section">
          <div class="report-bars card">
            <div id="reportChart" aria-label="Столбчатая диаграмма отчёта" role="img"></div>
          </div>

          <aside class="report-analysis card">
            <div id="reportPie" aria-label="Круговая диаграмма отчёта" role="img"></div>
            <div id="reportSummary" class="report-summary"></div>
          </aside>
        </section>
      </section>
    </main>
    <footer>
      <p>&copy; 2025 FinTrackr. Все права защищены.</p>
    </footer>
  </body>
</html>

