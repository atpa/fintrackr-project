import{i as t}from"./chunks/navigation-BNxy9xC7.js";import{i as e}from"./chunks/profile-BfLkpaKJ.js";import{A as n}from"./chunks/api-BDCGX8nm.js";import{a as r}from"./chunks/Toast-Cw3r9-oW.js";async function a(){try{const t=await n.utils.getRecurring(),e=document.querySelector("#recurringTable tbody"),r=document.getElementById("recurringSummary");if(!e)return;if(e.innerHTML="",Array.isArray(t.items)&&t.items.length)t.items.forEach(t=>{const n=document.createElement("tr");n.innerHTML=`\n          <td>${t.name}</td>\n          <td>${t.sampleAmount} ₽</td>\n          <td>${t.frequency||t.avgPeriodDays+" дней"}</td>\n          <td>${t.nextDate||"—"}</td>\n        `,e.appendChild(n)});else{const t=document.createElement("tr");t.innerHTML='<td colspan="4">Регулярные операции ещё не добавлены</td>',e.appendChild(t)}if(r){const e=t.monthly?`${t.monthly} ₽`:"0 ₽";r.textContent=`Суммарная ежемесячная нагрузка: ${e}`}}catch(t){r(`Не удалось загрузить повторяющиеся операции: ${t.message}`)}}t(),e(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a();
