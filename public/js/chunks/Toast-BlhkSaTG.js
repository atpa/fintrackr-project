let t=null,e=0;function s(s={}){const{message:o="",variant:r="info",duration:n=3e3,position:i="top-right",dismissible:a=!0,onClick:l=null,onClose:c=null}=s;t||function(e="top-right"){t||(t=document.createElement("div"),t.className=`toast-container toast-container--${e}`,t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),document.body.appendChild(t))}(i);const d="toast-"+ ++e,u=document.createElement("div");u.className=`toast toast--${r}`,u.id=d,u.setAttribute("role","alert"),u.innerHTML=`\n    <div class="toast-icon">${{success:'<svg viewBox="0 0 24 24" width="20" height="20"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"/></svg>',error:'<svg viewBox="0 0 24 24" width="20" height="20"><path d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"/></svg>',warning:'<svg viewBox="0 0 24 24" width="20" height="20"><path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" stroke="currentColor" stroke-width="2" fill="none"/></svg>',info:'<svg viewBox="0 0 24 24" width="20" height="20"><path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"/></svg>'}[r]}</div>\n    <div class="toast-message">${o}</div>\n    ${a?'<button class="toast-close" aria-label="Закрыть"><svg viewBox="0 0 24 24" width="16" height="16"><path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="2"/></svg></button>':""}\n    ${n>0?'<div class="toast-progress"><div class="toast-progress-bar"></div></div>':""}\n  `,t.appendChild(u),requestAnimationFrame(()=>{u.classList.add("toast--show")});let v=null,h=null,m=Date.now(),g=n,w=!1;const p=()=>{v&&clearTimeout(v),h&&clearInterval(h),u.classList.remove("toast--show"),setTimeout(()=>{u.remove(),c&&c(),t&&0===t.children.length&&(t.remove(),t=null)},300)};if(n>0){const t=u.querySelector(".toast-progress-bar"),e=()=>{m=Date.now(),v=setTimeout(p,g),h=setInterval(()=>{const e=(Date.now()-m)/n*100;t&&(t.style.width=`${Math.min(e,100)}%`)},16)},s=()=>{if(w)return;w=!0,clearTimeout(v),clearInterval(h);const t=Date.now()-m;g-=t},o=()=>{w&&(w=!1,e())};e(),u.addEventListener("mouseenter",s),u.addEventListener("mouseleave",o)}if(a){u.querySelector(".toast-close").addEventListener("click",t=>{t.stopPropagation(),p()})}l&&(u.style.cursor="pointer",u.addEventListener("click",()=>{l(f)}));const f={id:d,close:p,element:u};return f}function o(t,e={}){return s({message:t,variant:"success",...e})}function r(t,e={}){return s({message:t,variant:"error",duration:5e3,...e})}export{o as a,r as t};
