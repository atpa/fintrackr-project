import{i as l,A as d}from"./profile-BEROGLl0.js";l({requireAuth:!1});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("loginForm");n&&n.addEventListener("submit",async a=>{a.preventDefault();const i=document.getElementById("loginEmail"),s=document.getElementById("loginPassword"),o=i.value.trim(),r=s.value;if(!(!o||!r))try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:r})}),t=await e.json();if(!e.ok){alert(t.error||"Ошибка входа");return}d.login(t.user||t)?window.location.href="dashboard.html":alert("Ошибка сохранения данных")}catch(e){console.error(e),alert("Ошибка подключения к серверу")}})});
