import{i as l,A as y,f as p,p as f}from"./profile-DStBtrFs.js";import{i as E}from"./navigation-BDLIzq93.js";E();l();function m(c,t){t.innerHTML="",c.forEach(e=>{const o=document.createElement("tr"),n=document.createElement("td");n.textContent=e.name;const r=document.createElement("td");r.textContent=e.currency;const a=document.createElement("td");a.textContent=Number(e.balance).toFixed(2),a.className=e.balance<0?"status-expense":"status-income",o.append(n,r,a),t.appendChild(o)})}async function i(){const c=document.querySelector("#accountsTable tbody");if(!c)return;await y.requireAuth().catch(()=>null);let t=await p("/api/accounts");m(t,c);const e=document.getElementById("addAccountForm");e&&e.addEventListener("submit",async o=>{var r,a,d,s;o.preventDefault();const n={name:(a=(r=document.getElementById("accName"))==null?void 0:r.value)==null?void 0:a.trim(),currency:(d=document.getElementById("accCurrency"))==null?void 0:d.value,balance:parseFloat((s=document.getElementById("accBalance"))==null?void 0:s.value)||0};if(!n.name||!n.currency){alert("Please provide an account name and currency.");return}try{const u=await f("/api/accounts",n);t.push(u),m(t,c),e.reset()}catch(u){alert(u.message||"Unable to create account.")}})}document.readyState!=="loading"?i():document.addEventListener("DOMContentLoaded",i);
