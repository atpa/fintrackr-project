import{i as t}from"./chunks/navigation-BNxy9xC7.js";import{i as e}from"./chunks/profile-BfLkpaKJ.js";async function n(){const t=document.getElementById("converterForm"),e=document.getElementById("convResult");t&&t.addEventListener("submit",async t=>{t.preventDefault();const n=parseFloat(document.getElementById("convAmount").value),o=document.getElementById("convFrom").value,c=document.getElementById("convTo").value;if(isNaN(n)||n<0)e.textContent="Введите корректную сумму";else{if(o===c){const t=Number(n)||0;return void(e.textContent=`${t.toFixed(2)} ${o} = ${t.toFixed(2)} ${c}`)}try{const t=await fetch(`/api/convert?from=${encodeURIComponent(o)}&to=${encodeURIComponent(c)}&amount=${encodeURIComponent(n)}`);if(!t.ok){const n=await t.json();return void(e.textContent="Ошибка: "+(n.error||"Не удалось получить курс"))}const d=await t.json();if(d&&"number"==typeof d.result){const t=d.result,r=Number(n)||0;e.textContent=`${r.toFixed(2)} ${o} = ${t.toFixed(2)} ${c}`}else e.textContent="Не удалось выполнить конвертацию"}catch(d){e.textContent="Ошибка сети"}}})}t(),e(),"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n);
