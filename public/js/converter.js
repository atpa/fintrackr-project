import{i as u}from"./navigation-BDLIzq93.js";import{i as l}from"./profile-DStBtrFs.js";u();l();async function m(){const a=document.getElementById("converterForm"),e=document.getElementById("convResult");a&&a.addEventListener("submit",async s=>{s.preventDefault();const n=parseFloat(document.getElementById("convAmount").value),o=document.getElementById("convFrom").value,r=document.getElementById("convTo").value;if(isNaN(n)||n<0){e.textContent="Введите корректную сумму";return}if(o===r){const t=Number(n)||0;e.textContent=`${t.toFixed(2)} ${o} = ${t.toFixed(2)} ${r}`;return}try{const t=await fetch(`/api/convert?from=${encodeURIComponent(o)}&to=${encodeURIComponent(r)}&amount=${encodeURIComponent(n)}`);if(!t.ok){const i=await t.json();e.textContent="Ошибка: "+(i.error||"Не удалось получить курс");return}const c=await t.json();if(c&&typeof c.result=="number"){const i=c.result,d=Number(n)||0;e.textContent=`${d.toFixed(2)} ${o} = ${i.toFixed(2)} ${r}`}else e.textContent="Не удалось выполнить конвертацию"}catch(t){console.error(t),e.textContent="Ошибка сети"}})}document.readyState!=="loading"?m():document.addEventListener("DOMContentLoaded",m);
