function l(){const n=window.location.pathname.replace(/\/index\.html$/,"/").replace(/\.html$/,"");document.querySelectorAll(".sidebar .nav-link[href]").forEach(t=>{try{const e=new URL(t.getAttribute("href"),window.location.origin).pathname.replace(/\/index\.html$/,"/").replace(/\.html$/,"");(e===n||e==="/"&&n==="/")&&t.classList.add("active")}catch{}})}function o({breakpoint:n=1024}={}){const t=document.querySelector(".sidebar"),e=document.querySelector(".sidebar-backdrop"),i=document.querySelector(".burger");if(!t)return;const c=()=>{t.classList.add("open"),e&&e.classList.add("open"),i&&(i.classList.add("open"),i.setAttribute("aria-expanded","true"))},a=()=>{t.classList.remove("open"),e&&e.classList.remove("open"),i&&(i.classList.remove("open"),i.setAttribute("aria-expanded","false"))},s=()=>{t.classList.contains("open")?a():c()};i&&i.addEventListener("click",s),e&&e.addEventListener("click",a),t.querySelectorAll(".nav-link").forEach(r=>{r.addEventListener("click",()=>{window.innerWidth<n&&a()})}),document.querySelectorAll(".sidebar .auth-link, .sidebar .logout-btn").forEach(r=>{r.addEventListener("click",d=>{d.stopPropagation()})}),document.addEventListener("keydown",r=>{r.key==="Escape"&&t.classList.contains("open")&&a()}),window.addEventListener("resize",()=>{window.innerWidth>=n&&a()}),l()}function u(n={}){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>o(n),{once:!0}):o(n)}export{u as i};
